(this["webpackJsonptest-frontend-ip"]=this["webpackJsonptest-frontend-ip"]||[]).push([[0],{140:function(t,e,c){},142:function(t,e,c){"use strict";c.r(e);var a=c(0),n=c(10),o=c.n(n),i=(c(96),c(12)),r=(c(97),c(32)),s=c.n(r),l=c(42),u=c(31),A=c(17),d=c(18),j=c(78),b=c.n(j),h=new(function(){function t(){Object(A.a)(this,t)}return Object(d.a)(t,[{key:"getUserLocation",value:function(){var t=Object(l.a)(s.a.mark((function t(e){var c,a;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return"http://api.ipstack.com","326a9a3b86144aec56ecba70b189a32f",t.next=5,b.a.get("".concat("http://api.ipstack.com","/").concat(e,"?access_key=").concat("326a9a3b86144aec56ecba70b189a32f"));case 5:return c=t.sent,console.log("res",c),t.next=9,c.data;case 9:return a=t.sent,t.abrupt("return",a);case 11:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}]),t}()),O=Object(u.b)("[LOCATION] GET_USER_LOCATION",function(){var t=Object(l.a)(s.a.mark((function t(e){return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,h.getUserLocation(e);case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()),g=c(38),p=function(t){return t.location},x=c(43),L=c(28),f=Object(u.c)({name:"[LOCATION]",initialState:{currentLocation:{},allLocations:[],lastSearchLocation:{}},reducers:{SET_LAST_SEARCH:function(t){}},extraReducers:Object(x.a)({},O.fulfilled,(function(t,e){var c=e.payload;t.currentLocation=c,t.allLocations=[].concat(Object(L.a)(t.allLocations),[c]),t.lastSearchLocation=t.allLocations[t.allLocations.length-2]}))}),k=f.actions,m=k.SET_LAST_SEARCH,S=(k.ADD_TO_ALL_SEARCH,f.reducer),w=c(56),R=c(57),v="data:image/png;base64,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",I=c(6),D=function(t){var e=t.viewport,c=t.setViewport;return void 0===e.latitude?null:Object(I.jsxs)(R.b,Object(w.a)(Object(w.a)({},e),{},{width:"100%",height:"100%",onViewportChange:c,mapboxApiAccessToken:"pk.eyJ1Ijoic3RhcmExOTkxIiwiYSI6ImNrdGVjaWZzazJvaDcycGpwZHo4Z21mMGQifQ.DTIaEv6wG8gWm8D2lLHy_A",children:[e&&Object(I.jsx)(R.a,{latitude:e.latitude,longitude:e.longitude,children:Object(I.jsx)("img",{src:v,alt:v,style:{width:"20px"}})},"MARKER"),";"]}))},H=c(173),Q=c(172),M=(c(140),function(t){var e=t.locationStore;return Object(I.jsxs)("div",{className:"history-search-block",children:[Object(I.jsx)("h4",{children:" History of all searches "}),Object(I.jsx)("ul",{children:e.allLocations.map((function(t){return Object(I.jsx)("li",{children:t.ip},t.ip+Math.random(100))}))})]})}),C=function(){var t=Object(g.c)(p),e=Object(g.b)(),c="^((25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?).){3}(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)$",n=Object(a.useState)({longitude:t.currentLocation.longitude,latitude:t.currentLocation.latitude}),o=Object(i.a)(n,2),r=o[0],s=o[1],l=Object(a.useState)({longitude:t.lastSearchLocation&&t.lastSearchLocation.longitude,latitude:t.lastSearchLocation&&t.lastSearchLocation.latitude}),u=Object(i.a)(l,2),A=u[0],d=u[1];console.log("viewport",r),console.log("lastViewport",A);var j=Object(a.useState)(""),b=Object(i.a)(j,2),h=b[0],x=b[1],L={enableHighAccuracy:!0,timeout:2e3,maximumAge:0},f=function(t){var e=t.coords;console.log("data:",e),console.log("\u0412\u0430\u0448\u0435 \u0442\u0435\u043a\u0443\u0449\u0435\u0435 \u043c\u0435\u0441\u0442\u043e\u043f\u043e\u043b\u043e\u0436\u0435\u043d\u0438\u0435:"),console.log("\u0428\u0438\u0440\u043e\u0442\u0430: ".concat(e.latitude)),console.log("\u0414\u043e\u043b\u0433\u043e\u0442\u0430: ".concat(e.longitude))};function k(t){console.warn("ERROR(".concat(t.code,"): ").concat(t.message))}return Object(a.useEffect)((function(){navigator.geolocation.getCurrentPosition(f,k,L)}),[]),Object(I.jsx)("div",{className:"App",children:Object(I.jsxs)("div",{className:"wrapper",children:[0!==t.allLocations.length&&Object(I.jsx)(M,{locationStore:t}),Object(I.jsxs)("div",{className:"wrapper-block",children:[Object(I.jsxs)("div",{className:"info-block",children:[Object(I.jsxs)("div",{className:"map-block",children:[" ",Object(I.jsx)(D,{viewport:{longitude:t.currentLocation.longitude,latitude:t.currentLocation.latitude,zoom:10},setViewport:s})," "]}),Object(I.jsx)("div",{className:"data-block",children:0!==t.allLocations.length&&Object(I.jsxs)("ul",{children:[Object(I.jsxs)("li",{children:["City: ",t.currentLocation.city]})," ",Object(I.jsxs)("li",{children:["ip: ",t.currentLocation.ip]}),Object(I.jsxs)("li",{children:["zip-code: ",t.currentLocation.zip]}),Object(I.jsxs)("li",{children:["latitude: ",t.currentLocation.latitude]}),Object(I.jsxs)("li",{children:["longitude: ",t.currentLocation.longitude]}),Object(I.jsxs)("li",{children:["country: ",t.currentLocation.country_name]})]})})]}),Object(I.jsx)("div",{className:"search-block",children:Object(I.jsxs)("div",{className:"search-input",children:[Object(I.jsx)(Q.a,{className:"input",placeholder:"search box",onChange:function(t){return x(t.target.value)},value:h,label:"IP",error:""!==h&&!h.match(c),helperText:""===h||h.match(c)?" ":"IP Address must be a correct string."}),Object(I.jsx)(H.a,{onClick:function(){e(O(h)),e(m())},variant:"contained",color:"primary",disabled:!h,children:"Search"})]})}),Object(I.jsxs)("div",{className:"info-block",children:[Object(I.jsx)("div",{className:"map-block",children:Object(I.jsx)(D,{viewport:{longitude:t.lastSearchLocation&&t.lastSearchLocation.longitude,latitude:t.lastSearchLocation&&t.lastSearchLocation.latitude,zoom:10},setViewport:d})}),Object(I.jsx)("div",{className:"data-block",children:0!==t.allLocations.length&&t.lastSearchLocation&&Object(I.jsxs)("ul",{children:[Object(I.jsxs)("li",{children:["City: ",t.lastSearchLocation.city]}),Object(I.jsxs)("li",{children:["ip: ",t.lastSearchLocation.ip]}),Object(I.jsxs)("li",{children:["zip-code: ",t.lastSearchLocation.zip]}),Object(I.jsxs)("li",{children:["latitude: ",t.lastSearchLocation.latitude]}),Object(I.jsxs)("li",{children:["longitude: ",t.lastSearchLocation.longitude]}),Object(I.jsxs)("li",{children:["country: ",t.lastSearchLocation.country_name]})]})})]})]})]})})},G=Object(u.a)({reducer:{location:S}});o.a.render(Object(I.jsx)(g.a,{store:G,children:Object(I.jsx)(C,{})}),document.getElementById("root"))},96:function(t,e,c){},97:function(t,e,c){}},[[142,1,2]]]);
//# sourceMappingURL=main.fd534a71.chunk.js.map